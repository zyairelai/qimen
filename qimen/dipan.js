/**
 * dipan.js
 * 数组索引 0-8 对应：[无效, 坎1, 坤2, 震3, 巽4, 中5, 乾6, 兑7, 艮8, 离9]
 */

const DI_PAN_DATA = {
    // 阳遁 1-9
    "阳1": [null, "戊", "己", "庚", "辛", "壬", "癸", "丁", "丙", "乙"],
    "阳2": [null, "乙", "戊", "己", "庚", "辛", "壬", "癸", "丁", "丙"],
    "阳3": [null, "丙", "乙", "戊", "己", "庚", "辛", "壬", "癸", "丁"],
    "阳4": [null, "丁", "丙", "乙", "戊", "己", "庚", "辛", "壬", "癸"],
    "阳5": [null, "癸", "丁", "丙", "乙", "戊", "己", "庚", "辛", "壬"],
    "阳6": [null, "壬", "癸", "丁", "丙", "乙", "戊", "己", "庚", "辛"],
    "阳7": [null, "辛", "壬", "癸", "丁", "丙", "乙", "戊", "己", "庚"],
    "阳8": [null, "庚", "辛", "壬", "癸", "丁", "丙", "乙", "戊", "己"],
    "阳9": [null, "己", "庚", "辛", "壬", "癸", "丁", "丙", "乙", "戊"],

    // 阴遁 1-9
    "阴1": [null, "戊", "乙", "丙", "丁", "癸", "壬", "辛", "庚", "己"],
    "阴2": [null, "己", "戊", "乙", "丙", "丁", "癸", "壬", "辛", "庚"],
    "阴3": [null, "庚", "己", "戊", "乙", "丙", "丁", "癸", "壬", "辛"],
    "阴4": [null, "辛", "庚", "己", "戊", "乙", "丙", "丁", "癸", "壬"],
    "阴5": [null, "壬", "辛", "庚", "己", "戊", "乙", "丙", "丁", "癸"],
    "阴6": [null, "癸", "壬", "辛", "庚", "己", "戊", "乙", "丙", "丁"],
    "阴7": [null, "丁", "癸", "壬", "辛", "庚", "己", "戊", "乙", "丙"],
    "阴8": [null, "丙", "丁", "癸", "壬", "辛", "庚", "己", "戊", "乙"],
    "阴9": [null, "乙", "丙", "丁", "癸", "壬", "辛", "庚", "己", "戊"]
};

/**
 * 核心排盘函数
 * @param {string} jushuStr - 传入你计算出的 "阳遁1局" 或 "阴遁5局"
 * @returns {string[]} 返回 1-9 宫的天干数组
 */
function getDiPan(jushuStr) {
    // 简单的解析逻辑：提取第一个字(阴/阳)和数字部分
    // "阳遁1局" -> 提取 "阳" 和 "1" -> "阳1"
    const type = jushuStr.charAt(0); 
    const num = jushuStr.replace(/[^0-9]/g, ''); // 这一行用了最简单的正则，只为拿数字
    
    const key = `${type}${num}`;
    return DI_PAN_DATA[key] || DI_PAN_DATA["阳1"]; // 找不到默认给阳1
}